<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Admin - Gaspard</title>
  <style>
    body {
      background-color: #000;
      color: #ffd700;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 2rem;
    }
    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }
    form {
      background-color: #111;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 2rem;
    }
    input, select, textarea {
      width: 100%;
      padding: 0.7rem;
      margin: 0.5rem 0;
      border: none;
      border-radius: 5px;
    }
    button {
      background-color: #ffd700;
      color: #000;
      border: none;
      padding: 0.7rem;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 1rem;
      width: 100%;
    }
    .menu-list {
      margin-top: 2rem;
    }
    .plat {
      background: #222;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 5px;
    }
  </style>
</head>


<!-- Firebase SDK -->
<script type="module">
  // Import des fonctions depuis les modules Firebase (version module)
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBBHgFgHj-lYqbOxWMcaKz2xjYdUiZR-Bo",
    authDomain: "menuflash-611ea.firebaseapp.com",
    projectId: "menuflash-611ea",
    storageBucket: "menuflash-611ea.firebasestorage.app",
    messagingSenderId: "106561887216",
    appId: "1:106561887216:web:21164e3b875159511d9b35"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Exemple : ajouter un plat
  const form = document.getElementById("formAjout");
  const nomInput = document.getElementById("nom");
  const prixInput = document.getElementById("prix");
  const imageInput = document.getElementById("image");
  const categorieInput = document.getElementById("categorie");
  const descriptionInput = document.getElementById("description");
  const statutInput = document.getElementById("statut");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    try {
      await addDoc(collection(db, "plats"), {
        nom: nomInput.value,
        prix: prixInput.value,
        image: imageInput.value,
        categorie: categorieInput.value,
        description: descriptionInput.value,
        statut: statutInput.value
      });

      alert("Plat ajouté avec succès !");
      form.reset();
    } catch (e) {
      console.error("Erreur d’ajout :", e);
    }
  });
</script>



<body>
  <h1>Dashboard Admin - Gaspard</h1>

  <form id="formAjout">
    <input type="text" id="nom" placeholder="Nom du plat" required />
    <input type="text" id="prix" placeholder="Prix" required />
    <input type="text" id="image" placeholder="Lien de l'image" required />
    <textarea id="description" placeholder="Description du plat" rows="3" required></textarea>
    <select id="categorie">
      <option value="Entrées">Entrée</option>
      <option value="Plats">Plat</option>
      <option value="Desserts">Dessert</option>
      <option value="Boissons">Boisson</option>
    </select>
    <select id="statut">
      <option value="Disponible">Disponible</option>
      <option value="Indisponible">Indisponible</option>
    </select>
    <button type="submit" id="btnSubmit">Ajouter</button>
  </form>

  <div class="menu-list" id="listePlats">
    <!-- Liste des plats ici -->
  </div>

</body>
</html>
